<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gra√ßa Presentes - Presentes Especiais para Momentos Inesquec√≠veis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #fdf2f8 0%, #f0f9ff 50%, #f0fdf4 100%);
        }
        .product-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        .category-card {
            transition: all 0.3s ease;
        }
        .category-card:hover {
            transform: scale(1.05);
        }
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50 backdrop-blur-sm bg-white/95">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center mr-3 shadow-lg">
                    <i data-feather="gift" class="text-white"></i>
                </div>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">Gra√ßa Presentes</h1>
            </div>
            
            <nav class="hidden md:block">
                <ul class="flex space-x-8">
                    <li><a href="index.html" class="font-medium text-pink-600 border-b-2 border-pink-600 pb-1 transition">Home</a></li>
                    <li><a href="produtos.html" class="font-medium text-gray-600 hover:text-pink-600 transition">Produtos</a></li>
                    <li><a href="carrinho.html" class="font-medium text-gray-600 hover:text-pink-600 transition">Carrinho</a></li>
                    <li><a href="cadastro.html" class="font-medium text-gray-600 hover:text-pink-600 transition">Cadastro</a></li>
                    <li><a href="login.html" class="font-medium text-gray-600 hover:text-pink-600 transition">Login</a></li>
                </ul>
            </nav>
            
            <div class="flex items-center space-x-4">
                <button class="p-2 rounded-full hover:bg-pink-50 transition" onclick="window.location.href='login.html'">
                    <i data-feather="user" class="text-gray-600"></i>
                </button>
                <button class="p-2 rounded-full hover:bg-pink-50 transition relative" onclick="window.location.href='carrinho.html'">
                    <i data-feather="shopping-cart" class="text-gray-600"></i>
                    <span id="cart-count" class="absolute -top-1 -right-1 bg-gradient-to-r from-pink-500 to-purple-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold">0</span>
                </button>
                <button class="md:hidden p-2 rounded-full hover:bg-pink-50 transition">
                    <i data-feather="menu" class="text-gray-600"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Banner -->
    <section class="gradient-bg py-16 md:py-24 overflow-hidden">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 mb-10 md:mb-0 fade-in">
                <div class="inline-flex items-center bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 mb-6 shadow-lg">
                    <span class="w-2 h-2 bg-pink-500 rounded-full mr-2 animate-pulse"></span>
                    <span class="text-sm font-medium text-gray-700">Presentes especiais com entrega r√°pida</span>
                </div>
                <h1 class="text-5xl md:text-6xl font-bold text-gray-800 mb-6 leading-tight">
                    Presentes que 
                    <span class="bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">encantam</span> 
                    cora√ß√µes
                </h1>
                <p class="text-xl text-gray-600 mb-8 leading-relaxed">
                    Descubra presentes √∫nicos e memor√°veis para quem voc√™ ama. 
                    <span class="font-semibold text-pink-600">Entrega em at√© 2 horas na Grande S√£o Paulo!</span>
                </p>
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                    <button class="bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-8 py-4 rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center" 
                            onclick="window.location.href='produtos.html'">
                        <i data-feather="shopping-bag" class="w-5 h-5 mr-2"></i>
                        Comprar Agora
                    </button>
                    <button class="border-2 border-pink-500 text-pink-500 hover:bg-pink-500 hover:text-white px-8 py-4 rounded-xl font-semibold transition-all flex items-center justify-center" 
                            onclick="window.location.href='produtos.html'">
                        <i data-feather="eye" class="w-5 h-5 mr-2"></i>
                        Ver Cat√°logo
                    </button>
                </div>
                <div class="flex items-center mt-8 space-x-6 text-sm text-gray-500">
                    <div class="flex items-center">
                        <i data-feather="truck" class="w-4 h-4 mr-2 text-green-500"></i>
                        <span>Entrega Gr√°tis</span>
                    </div>
                    <div class="flex items-center">
                        <i data-feather="shield" class="w-4 h-4 mr-2 text-blue-500"></i>
                        <span>Compra Segura</span>
                    </div>
                    <div class="flex items-center">
                        <i data-feather="clock" class="w-4 h-4 mr-2 text-orange-500"></i>
                        <span>Entrega R√°pida</span>
                    </div>
                </div>
            </div>
            <div class="md:w-1/2 flex justify-center relative">
                <div class="relative w-full max-w-lg">
                    <div class="w-full h-80 bg-gradient-to-br from-pink-400 via-purple-500 to-blue-400 rounded-2xl shadow-2xl flex items-center justify-center floating">
                        <i data-feather="gift" class="w-32 h-32 text-white"></i>
                    </div>
                    <div class="absolute -top-4 -left-4 bg-white rounded-xl p-4 shadow-lg">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                <i data-feather="star" class="w-5 h-5 text-green-600"></i>
                            </div>
                            <div>
                                <div class="font-semibold">+5.000</div>
                                <div class="text-xs text-gray-500">Clientes Satisfeitos</div>
                            </div>
                        </div>
                    </div>
                    <div class="absolute -bottom-4 -right-4 bg-white rounded-xl p-4 shadow-lg">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                <i data-feather="package" class="w-5 h-5 text-blue-600"></i>
                            </div>
                            <div>
                                <div class="font-semibold">+2.000</div>
                                <div class="text-xs text-gray-500">Presentes Entregues</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Categories -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12 fade-in">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">Categorias em Destaque</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">Encontre o presente perfeito em nossas categorias mais populares</p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="category-card bg-gradient-to-br from-pink-50 to-pink-100 rounded-2xl p-6 text-center hover:shadow-xl transition-all cursor-pointer border border-pink-200" onclick="filtrarPorCategoria('Flores')">
                    <div class="w-20 h-20 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i data-feather="flower" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800">Flores</h3>
                    <p class="text-gray-600 text-sm mt-2">Buqu√™s frescos e arom√°ticos</p>
                </div>
                <div class="category-card bg-gradient-to-br from-yellow-50 to-amber-100 rounded-2xl p-6 text-center hover:shadow-xl transition-all cursor-pointer border border-yellow-200" onclick="filtrarPorCategoria('Doces')">
                    <div class="w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i data-feather="box" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800">Doces</h3>
                    <p class="text-gray-600 text-sm mt-2">Chocolates e del√≠cias</p>
                </div>
                <div class="category-card bg-gradient-to-br from-blue-50 to-cyan-100 rounded-2xl p-6 text-center hover:shadow-xl transition-all cursor-pointer border border-blue-200" onclick="filtrarPorCategoria('Pel√∫cias')">
                    <div class="w-20 h-20 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i data-feather="heart" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800">Pel√∫cias</h3>
                    <p class="text-gray-600 text-sm mt-2">Fofuras e companhia</p>
                </div>
                <div class="category-card bg-gradient-to-br from-purple-50 to-violet-100 rounded-2xl p-6 text-center hover:shadow-xl transition-all cursor-pointer border border-purple-200" onclick="filtrarPorCategoria('Kits')">
                    <div class="w-20 h-20 bg-gradient-to-r from-purple-400 to-violet-400 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                        <i data-feather="package" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800">Kits</h3>
                    <p class="text-gray-600 text-sm mt-2">Combina√ß√µes especiais</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="py-16 bg-gradient-to-br from-gray-50 to-blue-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-12 fade-in">
                <div>
                    <h2 class="text-4xl font-bold text-gray-800 mb-2">Produtos em Destaque</h2>
                    <p class="text-lg text-gray-600">Os mais amados pelos nossos clientes</p>
                </div>
                <a href="produtos.html" class="bg-white hover:bg-gray-50 text-pink-600 hover:text-pink-700 px-6 py-3 rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl flex items-center border border-pink-200">
                    Ver todos <i data-feather="arrow-right" class="ml-2 w-4 h-4"></i>
                </a>
            </div>
            
            <!-- Loading State -->
            <div id="featured-loading" class="text-center py-12">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"></div>
                <p class="text-gray-600">Carregando produtos...</p>
            </div>

            <!-- Products Grid -->
            <div id="featured-products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 hidden">
                <!-- Produtos ser√£o carregados via JavaScript -->
            </div>

            <!-- Error State -->
            <div id="featured-error" class="text-center py-12 hidden">
                <i data-feather="alert-triangle" class="w-16 h-16 text-red-500 mx-auto mb-4"></i>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Erro ao carregar produtos</h3>
                <p class="text-gray-600 mb-4" id="featured-error-message"></p>
                <button onclick="carregarProdutosDestaque()" class="bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-lg transition">
                    Tentar Novamente
                </button>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div class="fade-in">
                    <div class="text-4xl font-bold text-pink-600 mb-2">+5.000</div>
                    <div class="text-gray-600">Clientes Felizes</div>
                </div>
                <div class="fade-in" style="animation-delay: 0.1s">
                    <div class="text-4xl font-bold text-purple-600 mb-2">+2.000</div>
                    <div class="text-gray-600">Presentes Entregues</div>
                </div>
                <div class="fade-in" style="animation-delay: 0.2s">
                    <div class="text-4xl font-bold text-blue-600 mb-2">98%</div>
                    <div class="text-gray-600">Avalia√ß√£o Positiva</div>
                </div>
                <div class="fade-in" style="animation-delay: 0.3s">
                    <div class="text-4xl font-bold text-green-600 mb-2">24h</div>
                    <div class="text-gray-600">Suporte Online</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-16 bg-gradient-to-br from-purple-50 to-pink-50">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 fade-in">O que nossos clientes dizem</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all fade-in">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full flex items-center justify-center mr-4 shadow-lg">
                            <span class="font-bold text-white text-sm">AS</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Ana Silva</h4>
                            <div class="flex text-yellow-400">
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 leading-relaxed">"Adorei o buqu√™ que comprei para minha m√£e! Chegou fresquinho e lindo, exatamente como na foto. Ela amou! Obrigada pela qualidade e cuidado."</p>
                </div>
                
                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all fade-in" style="animation-delay: 0.1s">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center mr-4 shadow-lg">
                            <span class="font-bold text-white text-sm">CM</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Carlos Mendes</h4>
                            <div class="flex text-yellow-400">
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 leading-relaxed">"Presenteio minha namorada todo m√™s com algo da Gra√ßa Presentes. Sempre acertam nas op√ß√µes rom√¢nticas! A entrega √© sempre pontual e os produtos impec√°veis."</p>
                </div>
                
                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all fade-in" style="animation-delay: 0.2s">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full flex items-center justify-center mr-4 shadow-lg">
                            <span class="font-bold text-white text-sm">JC</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Juliana Costa</h4>
                            <div class="flex text-yellow-400">
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4 fill-current"></i>
                                <i data-feather="star" class="w-4 h-4"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 leading-relaxed">"Comprei o kit de caf√© para presentear meu chefe. A embalagem estava linda e os produtos eram de alta qualidade. Super recomendo para presentes corporativos!"</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="py-16 bg-gradient-to-r from-pink-500 to-purple-500 text-white">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-4 fade-in">Receba nossas ofertas exclusivas</h2>
            <p class="text-lg text-pink-100 max-w-2xl mx-auto mb-8 fade-in" style="animation-delay: 0.1s">
                Assine nossa newsletter e seja o primeiro a receber descontos especiais, novidades e promo√ß√µes!
            </p>
            <form class="max-w-md mx-auto flex fade-in" style="animation-delay: 0.2s" onsubmit="assinarNewsletter(event)">
                <input type="email" id="newsletter-email" placeholder="Seu melhor e-mail" class="flex-grow px-4 py-3 rounded-l-xl border-0 focus:outline-none focus:ring-2 focus:ring-white text-gray-800" required>
                <button type="submit" class="bg-white text-pink-600 hover:bg-gray-100 px-6 py-3 rounded-r-xl font-semibold transition-all shadow-lg hover:shadow-xl">
                    Assinar
                </button>
            </form>
            <p class="text-sm text-pink-200 mt-4 fade-in" style="animation-delay: 0.3s">
                üìß N√£o se preocupe, n√£o enviamos spam. Voc√™ pode cancelar a qualquer momento.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full flex items-center justify-center mr-3 shadow-lg">
                            <i data-feather="gift" class="text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold">Gra√ßa Presentes</h3>
                    </div>
                    <p class="text-gray-300 leading-relaxed">Presentes especiais para momentos inesquec√≠veis desde 2010. Qualidade e carinho em cada detalhe.</p>
                    <div class="flex space-x-4 mt-4">
                        <a href="#" class="text-gray-400 hover:text-white transition transform hover:scale-110">
                            <i data-feather="facebook" class="w-5 h-5"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition transform hover:scale-110">
                            <i data-feather="instagram" class="w-5 h-5"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition transform hover:scale-110">
                            <i data-feather="twitter" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Links √öteis</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Sobre N√≥s</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Blog</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Termos de Servi√ßo</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Pol√≠tica de Privacidade</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Trocas e Devolu√ß√µes</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Minha Conta</h4>
                    <ul class="space-y-2">
                        <li><a href="cadastro.html" class="text-gray-300 hover:text-white transition">Minha Conta</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Meus Pedidos</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Lista de Desejos</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Newsletter</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-lg mb-4">Contato</h4>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <i data-feather="map-pin" class="mr-3 w-5 h-5 text-pink-400"></i>
                            <span class="text-gray-300">Rua das Flores, 123 - S√£o Paulo/SP</span>
                        </li>
                        <li class="flex items-center">
                            <i data-feather="phone" class="mr-3 w-5 h-5 text-pink-400"></i>
                            <span class="text-gray-300">(11) 9876-5432</span>
                        </li>
                        <li class="flex items-center">
                            <i data-feather="mail" class="mr-3 w-5 h-5 text-pink-400"></i>
                            <span class="text-gray-300">contato@gracapresentes.com.br</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-12 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Gra√ßa Presentes. Todos os direitos reservados. Feito com ‚ù§Ô∏è para momentos especiais.</p>
            </div>
        </div>
    </footer>

    <script>
        // Classe Carrinho
        class Carrinho {
            constructor() {
                this.itens = JSON.parse(localStorage.getItem('carrinho')) || [];
                this.desconto = 0;
                this.atualizarContador();
            }

            adicionarItem(produto) {
                const itemExistente = this.itens.find(item => item.id === produto.id);
                
                if (itemExistente) {
                    itemExistente.quantidade += 1;
                } else {
                    this.itens.push({
                        ...produto,
                        quantidade: 1
                    });
                }
                
                this.salvar();
                this.atualizarContador();
                this.mostrarFeedback(produto.nome);
            }

            atualizarContador() {
                const contadores = document.querySelectorAll('#cart-count');
                const totalItens = this.itens.reduce((total, item) => total + item.quantidade, 0);
                
                contadores.forEach(contador => {
                    contador.textContent = totalItens;
                });
            }

            mostrarFeedback(nomeProduto) {
                // Remover feedback anterior se existir
                const feedbackAnterior = document.querySelector('.cart-feedback');
                if (feedbackAnterior) {
                    feedbackAnterior.remove();
                }

                const feedback = document.createElement('div');
                feedback.className = 'cart-feedback fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-bounce';
                feedback.innerHTML = `
                    <div class="flex items-center">
                        <i data-feather="check-circle" class="w-5 h-5 mr-2"></i>
                        <span><strong>${nomeProduto}</strong> adicionado ao carrinho!</span>
                    </div>
                `;
                
                document.body.appendChild(feedback);
                feather.replace();
                
                setTimeout(() => {
                    feedback.remove();
                }, 3000);
            }

            salvar() {
                localStorage.setItem('carrinho', JSON.stringify(this.itens));
            }
        }

        // Inicializar carrinho
        const carrinho = new Carrinho();

        document.addEventListener('DOMContentLoaded', function() {
            carregarProdutosDestaque();
            atualizarContadorCarrinho();
            feather.replace();
        });

        function atualizarContadorCarrinho() {
            carrinho.atualizarContador();
        }

        // Carregar produtos em destaque do backend
        async function carregarProdutosDestaque() {
            const loadingState = document.getElementById('featured-loading');
            const errorState = document.getElementById('featured-error');
            const productsGrid = document.getElementById('featured-products');

            // Mostrar loading
            loadingState.classList.remove('hidden');
            errorState.classList.add('hidden');
            productsGrid.classList.add('hidden');

            try {
                const response = await fetch('/api/produtos');
                
                if (!response.ok) {
                    throw new Error(`Erro ${response.status}: ${response.statusText}`);
                }
                
                const produtos = await response.json();
                
                // Esconder loading e mostrar produtos
                loadingState.classList.add('hidden');
                productsGrid.classList.remove('hidden');
                
                // Filtrar produtos em destaque (com maisVendido ou novo)
                const produtosDestaque = produtos.filter(produto => produto.maisVendido || produto.novo).slice(0, 4);
                
                // Se n√£o houver produtos em destaque, pega os primeiros 4
                const produtosParaExibir = produtosDestaque.length > 0 ? produtosDestaque : produtos.slice(0, 4);
                
                renderizarProdutosDestaque(produtosParaExibir);
                
            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
                
                loadingState.classList.add('hidden');
                errorState.classList.remove('hidden');
                document.getElementById('featured-error-message').textContent = error.message;
            }
        }

        function renderizarProdutosDestaque(produtosDestaque) {
            const container = document.getElementById('featured-products');
            
            container.innerHTML = produtosDestaque.map(produto => {
                // Determinar badges
                const badges = [];
                if (produto.desconto && produto.desconto > 0) {
                    badges.push(`<div class="absolute top-3 right-3 bg-pink-500 text-white text-xs px-2 py-1 rounded-full font-bold">-${produto.desconto}%</div>`);
                }
                if (produto.novo) {
                    badges.push(`<div class="absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold">Novo</div>`);
                }
                if (produto.maisVendido) {
                    badges.push(`<div class="absolute top-3 left-3 bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold">Mais Vendido</div>`);
                }

                // Mapear cores para classes Tailwind
                const corMap = {
                    'pink': 'pink',
                    'yellow': 'yellow', 
                    'blue': 'blue',
                    'purple': 'purple',
                    'brown': 'amber',
                    'gray': 'gray',
                    'green': 'green',
                    'red': 'red'
                };
                
                const corClasse = corMap[produto.cor] || 'gray';

                return `
                <div class="product-card bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 fade-in">
                    <div class="relative">
                        <div class="w-full h-48 bg-gradient-to-br ${produto.corGradiente || 'from-gray-400 to-gray-600'} flex items-center justify-center">
                            <i data-feather="${produto.icone || 'package'}" class="w-16 h-16 text-white"></i>
                        </div>
                        ${badges.join('')}
                    </div>
                    
                    <div class="p-4">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-lg text-gray-800">${produto.nome}</h3>
                            <span class="bg-${corClasse}-100 text-${corClasse}-600 text-xs px-2 py-1 rounded font-medium">${produto.categoria}</span>
                        </div>
                        
                        <p class="text-gray-600 text-sm mb-4 leading-relaxed">${produto.descricao || 'Produto de alta qualidade'}</p>
                        
                        <div class="flex justify-between items-center">
                            <div class="flex flex-col">
                                <span class="font-bold text-lg text-pink-500">R$ ${produto.preco.toFixed(2).replace('.', ',')}</span>
                                ${produto.precoOriginal && produto.precoOriginal > produto.preco ? 
                                    `<span class="text-xs text-gray-400 line-through">De: R$ ${produto.precoOriginal.toFixed(2).replace('.', ',')}</span>` : 
                                    ''}
                            </div>
                            <button class="add-to-cart-btn bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-4 py-2 rounded-lg transition flex items-center space-x-2 font-medium shadow-lg hover:shadow-xl"
                                    data-produto-id="${produto.id}"
                                    title="Adicionar ao carrinho">
                                <i data-feather="shopping-cart" class="w-4 h-4"></i>
                                <span>Add</span>
                            </button>
                        </div>
                    </div>
                </div>
                `;
            }).join('');
            
            // Atualizar √≠cones do Feather
            feather.replace();
            
            // Adicionar eventos aos bot√µes de adicionar ao carrinho
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const produtoId = parseInt(this.getAttribute('data-produto-id'));
                    
                    // Buscar o produto novamente da API para garantir que temos os dados atualizados
                    fetch('/api/produtos')
                        .then(response => response.json())
                        .then(produtos => {
                            const produto = produtos.find(p => p.id === produtoId);
                            if (produto) {
                                carrinho.adicionarItem(produto);
                                
                                // Efeito visual no bot√£o
                                const originalHTML = this.innerHTML;
                                this.innerHTML = '<i data-feather="check" class="w-4 h-4"></i><span>Adicionado!</span>';
                                this.classList.remove('from-pink-500', 'to-purple-500', 'hover:from-pink-600', 'hover:to-purple-600');
                                this.classList.add('bg-green-500', 'hover:bg-green-600');
                                feather.replace();
                                
                                setTimeout(() => {
                                    this.innerHTML = originalHTML;
                                    this.classList.remove('bg-green-500', 'hover:bg-green-600');
                                    this.classList.add('from-pink-500', 'to-purple-500', 'hover:from-pink-600', 'hover:to-purple-600');
                                    feather.replace();
                                }, 2000);
                            }
                        })
                        .catch(error => {
                            console.error('Erro ao buscar produto:', error);
                        });
                });
            });
        }

        function filtrarPorCategoria(categoria) {
            window.location.href = `produtos.html?categoria=${categoria}`;
        }

        function assinarNewsletter(event) {
            event.preventDefault();
            const email = document.getElementById('newsletter-email').value;
            
            // Simular envio para backend
            const feedback = document.createElement('div');
            feedback.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-bounce';
            feedback.innerHTML = `
                <div class="flex items-center">
                    <i data-feather="check-circle" class="w-5 h-5 mr-2"></i>
                    <span>Obrigado! Newsletter assinada para: ${email}</span>
                </div>
            `;
            
            document.body.appendChild(feedback);
            feather.replace();
            
            document.getElementById('newsletter-email').value = '';
            
            setTimeout(() => {
                feedback.remove();
            }, 4000);
        }
    </script>
</body>
</html>